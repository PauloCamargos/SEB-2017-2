<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link type="text/css" rel="stylesheet" href="popup.php_arquivos/SyntaxHighlighter.css">
		<script language="javascript" src="popup.php_arquivos/shCore.js"></script>
		<script language="javascript" src="popup.php_arquivos/shBrushCpp.js"></script>
		<script language="javascript" src="popup.php_arquivos/shBrushXml.js"></script>
	<style type="text/css">.dp-cpp .datatypes { color: #2E8B57; font-weight: bold; }</style></head>
	<body>
		<div class="dp-highlighter"><div class="bar"></div><ol start="1" class="dp-cpp"><li class="alt"><span><span class="comment">//definição&nbsp;dos&nbsp;pinos</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="preprocessor">#define&nbsp;pinAnalogico&nbsp;&nbsp;&nbsp;&nbsp;A0</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="preprocessor">#define&nbsp;ledVM_D3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="preprocessor">#define&nbsp;ledVD_D2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="preprocessor">#define&nbsp;ledVM_D1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="datatypes">int</span><span>&nbsp;ledAtual&nbsp;=&nbsp;10;&nbsp;</span><span class="comment">//&nbsp;Pino&nbsp;do&nbsp;LED&nbsp;que&nbsp;está&nbsp;ON</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="comment">//&nbsp;Variáveis&nbsp;de&nbsp;controle&nbsp;da&nbsp;função&nbsp;millis()</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">const</span><span>&nbsp;</span><span class="datatypes">int</span><span>&nbsp;intervalo&nbsp;=&nbsp;&nbsp;&nbsp;200;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="datatypes">int</span><span>&nbsp;tempo_atual&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="datatypes">int</span><span>&nbsp;ultimo_tempo&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="keyword">void</span><span>&nbsp;setup()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="comment">//Configuração&nbsp;do&nbsp;regime&nbsp;de&nbsp;trabalho&nbsp;dos&nbsp;pinos&nbsp;e&nbsp;comunicação&nbsp;serial</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;pinMode(ledVM_D3,&nbsp;OUTPUT);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;pinMode(ledVD_D2,&nbsp;OUTPUT);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;pinMode(ledVM_D1,&nbsp;OUTPUT);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;Serial.begin(57600);&nbsp;<span class="comment">//&nbsp;Inicia&nbsp;porta&nbsp;serial</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="keyword">void</span><span>&nbsp;exibeTensao(</span><span class="datatypes">float</span><span>&nbsp;tensao,&nbsp;</span><span class="datatypes">int</span><span>&nbsp;intervalo)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="comment">//Função&nbsp;para&nbsp;exibição&nbsp;da&nbsp;tensão&nbsp;no&nbsp;monitor&nbsp;serial</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;Serial.print(<span class="string">"A&nbsp;tensao&nbsp;analogica&nbsp;apresentada&nbsp;na&nbsp;entrada&nbsp;A0&nbsp;do&nbsp;ARDUINO&nbsp;e&nbsp;igual&nbsp;a:&nbsp;"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;Serial.println(tensao);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;Serial.print(<span class="string">"Intervalo:&nbsp;"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;Serial.println(intervalo&nbsp;*&nbsp;tensao);&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="datatypes">float</span><span>&nbsp;lerTensao()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="comment">//Função&nbsp;para&nbsp;leitura&nbsp;e&nbsp;conversão&nbsp;dos&nbsp;valores&nbsp;de&nbsp;tensão</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;valorSensor&nbsp;=&nbsp;analogRead(pinAnalogico);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="datatypes">int</span><span>&nbsp;&nbsp;tensao_int&nbsp;=&nbsp;map(valorSensor,&nbsp;0,&nbsp;676,&nbsp;0,&nbsp;330);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;<span class="datatypes">float</span><span>&nbsp;tensao&nbsp;=&nbsp;tensao_int&nbsp;/&nbsp;100.0;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;tensao;&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="keyword">void</span><span>&nbsp;ligaLED()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="comment">//Função&nbsp;para&nbsp;ativação&nbsp;sequencial&nbsp;dos&nbsp;LED's</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;<span class="keyword">switch</span><span>&nbsp;(ledAtual)&nbsp;{&nbsp;</span><span class="comment">//Verifica&nbsp;qual&nbsp;LED&nbsp;está&nbsp;ligado&nbsp;no&nbsp;momento</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">case</span><span>&nbsp;(10):&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Liga&nbsp;LED&nbsp;do&nbsp;pin&nbsp;9&nbsp;(ledVD_D2)</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D1,&nbsp;0);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVD_D2,&nbsp;1);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D3,&nbsp;0);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ledAtual&nbsp;=&nbsp;9;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">case</span><span>&nbsp;(9):&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Liga&nbsp;LED&nbsp;do&nbsp;pin&nbsp;8&nbsp;(ledVM_D1)</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D1,&nbsp;1);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVD_D2,&nbsp;0);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D3,&nbsp;0);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ledAtual&nbsp;=&nbsp;8;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">case</span><span>&nbsp;(8):&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Liga&nbsp;LED&nbsp;do&nbsp;pin&nbsp;10&nbsp;(ledVM_D3)</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D1,&nbsp;0);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVD_D2,&nbsp;0);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D3,&nbsp;1);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ledAtual&nbsp;=&nbsp;10;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">break</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">default</span><span>:&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Desliga&nbsp;todos&nbsp;LED's</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D1,&nbsp;0);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVD_D2,&nbsp;0);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledVM_D3,&nbsp;0);&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ledAtual&nbsp;=&nbsp;10;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="keyword">void</span><span>&nbsp;loop()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;tempo_atual&nbsp;=&nbsp;millis();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Tempo&nbsp;desde&nbsp;o&nbsp;inicio&nbsp;do&nbsp;funcionamento&nbsp;(ms)</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="datatypes">float</span><span>&nbsp;tensao&nbsp;=&nbsp;lerTensao();&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;Armazena&nbsp;valor&nbsp;de&nbsp;tensão&nbsp;lido&nbsp;na&nbsp;porta&nbsp;analog.</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;<span class="comment">//&nbsp;Verifica&nbsp;se&nbsp;o&nbsp;tempo&nbsp;de&nbsp;intervalo&nbsp;estourou</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;((tempo_atual&nbsp;-&nbsp;ultimo_tempo)&nbsp;&gt;&nbsp;(intervalo&nbsp;*&nbsp;tensao))&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;ultimo_tempo&nbsp;=&nbsp;tempo_atual;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;exibeTensao(tensao,&nbsp;intervalo);&nbsp;<span class="comment">//&nbsp;Exibe&nbsp;mensagem&nbsp;no&nbsp;serial&nbsp;monitor</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;ligaLED();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Liga&nbsp;o&nbsp;LED</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div>
			<script language="javascript">
		<!--
			dp.SyntaxHighlighter.HighlightAll('code', true,false);
			document.body.removeChild(document.getElementById("code"));
	  -->
	</script>

</body></html>